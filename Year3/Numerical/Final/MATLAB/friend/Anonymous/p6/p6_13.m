syms x1 x2 x3
% x1 - 3*x2 = -5, x2 + 3*x3 = -1, 2*x1 - 10*x2 + 2*x3 = -20
A = [1,-3,0;0,1,3;2,-10,2];
B = [-5;-1;-20];

L = zeros(length(A));
U = eye(length(A));
L(:,1) = A(:,1);

U(1,2) = A(1,2)./L(1,1);
U(1,3) = A(1,3)./L(1,1);

L(2,2) = (A(2,2)-(L(2,1).*U(1,2)));
L(3,2) = (A(3,2)-(L(3,1).*U(1,2)));

U(2,3) = (A(2,3)-(L(2,1)*U(1,3))) ./ L(2,2);

L(3,3) = (A(3,3)-(L(3,1)*U(1,3) + L(3,2)*U(2,3)));

Y = L\B;
X = U\Y;
disp(X);